<!DOCTYPE html><html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Deyim Testi</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f4f4f6;
      text-align: center;
      padding: 20px;
    }
    .container {
      max-width: 800px;
      margin: auto;
      background: white;
      padding: 30px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      border-radius: 10px;
      
    }
    button {
      padding: 15px 30px;
      font-size: 20px;
      margin-top: 20px;
      cursor: pointer;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 5px;
    }
    canvas {
      margin-top: 30px;
      margin-bottom: 30px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Deyim Tepki Testi</h1>
    <p>"Başlamak" butonuna tıkladıktan sonra deyim göründüğünde mümkün olan en hızlı şekilde "Gördüm" butonuna bas.</p>
    <h2 id="deyim">Hazır mısın?</h2>
    <button id="startBtn">Başla</button>
    <button id="sawBtn" disabled>Gördüm</button>
    <canvas id="lineChart" width="400" height="200"></canvas>
    <canvas id="barChart" width="400" height="100"></canvas>
  </div>  <script>
    const deyimler = [
      "Ateş bacayı sardı",
      "Gözden düşmek",
      "Kulağına küpe olmak",
      "İçli dışlı olmak",
      "Sakız gibi uzatmak",
      "Ayağını yorganına göre uzat",
      "Saman altından su yürütmek",
      "Burnundan kıl aldırmamak",
      "İçi içine sığmamak",
      "Elini taşın altına koymak"
    ];

    let reactionTimes = [];
    let currentIndex = 0;
    let startTime;

    const startBtn = document.getElementById("startBtn");
    const sawBtn = document.getElementById("sawBtn");
    const deyimEl = document.getElementById("deyim");

    startBtn.addEventListener("click", () => {
      deyimEl.textContent = "Hazırlan...";
      startBtn.disabled = true;
      sawBtn.disabled = true;
      const delay = Math.random() * 1000 + 1000; // 1-4 saniye arası
      setTimeout(() => {
        deyimEl.textContent = deyimler[currentIndex];
        startTime = Date.now();
        sawBtn.disabled = false;
      }, delay);
    });

    sawBtn.addEventListener("click", () => {
      const reactionTime = Date.now() - startTime;
      reactionTimes.push(reactionTime);
      currentIndex++;
      if (currentIndex < deyimler.length) {
        deyimEl.textContent = "Sonraki deyime geç.";
        startBtn.disabled = false;
        sawBtn.disabled = true;
      } else {
        deyimEl.textContent = "Test tamamlandı!";
        startBtn.style.display = "none";
        sawBtn.style.display = "none";
        showCharts();
      }
    });

    function showCharts() {
      const ctx1 = document.getElementById("lineChart").getContext("2d");
      const ctx2 = document.getElementById("barChart").getContext("2d");
      const labels = reactionTimes.map((_, i) => `Deyim ${i + 1}`);
      const average = (reactionTimes.reduce((a, b) => a + b, 0) / reactionTimes.length).toFixed(2);

      new Chart(ctx1, {
        type: 'line',
        data: {
          labels: labels,
          datasets: [
            {
              label: 'Tepki Süresi (ms)',
              data: reactionTimes,
              fill: false,
              borderColor: 'rgb(75, 192, 192)',
              tension: 0.3
            },
            {
              label: `Ortalama (${average} ms)`,
              data: Array(reactionTimes.length).fill(average),
              borderColor: 'red',
              borderDash: [10, 5],
              pointRadius: 0,
              fill: false
            }
          ]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: true },
            title: { display: true, text: 'Tepki Süresi Çizelgesi' }
          }
        }
      });

      new Chart(ctx2, {
        type: 'bar',
        data: {
          labels: ['Ortalama Tepki Süresi'],
          datasets: [{
            label: 'ms',
            data: [average],
            backgroundColor: 'rgba(54, 162, 235, 0.7)'
          }]
        },
        options: {
          indexAxis: 'y',
          plugins: {
            legend: { display: false },
            title: { display: true, text: 'Ortalama Tepki Süresi' }
          }
        }
      });
    }
  </script></body>
</html>